import{r as o,j as l,F as R,a as e,c as v,h as E,i as k}from"./app-6cae0a58.js";import{X as L}from"./x-mark-icon-3413cb75.js";import{g as S}from"./breads-services-6c394da9.js";import{T as _}from"./trash-icon-bcd6f5bd.js";import{f as A}from"./records-services-7b0243e7.js";import{L as I}from"./loading-icon-6e69eb6e.js";import{u as q}from"./useDispatch-eacdcff1.js";import{t as r}from"./transition-6536be7d.js";import{_ as f}from"./dialog-4c31c2f3.js";import"./open-closed-e0542ca9.js";import"./keyboard-29ff5ffd.js";import"./hidden-618e4bf4.js";function J({branchid:x}){const[g,s]=o.useState(!1),[d,i]=o.useState([]),[c,y]=o.useState([]),u=q(),N=o.useRef(),[w,p]=o.useState(!1);o.useEffect(()=>{S().then(a=>{y(a)})},[]);const h=(a,n,t)=>{i(m=>{const b=[...m];return b[a][n]=t,b})},C=()=>{i(a=>[...a,{id:null,quantity:""}])},F=a=>{i(n=>{const t=[...n];return t.splice(a,1),t})};function D(){return{status:"loading",message:"Loading..."}}function T(a){a.preventDefault(),p(!0),u(v(D()));const n={data:d,branchid:x,date:E().format("L")};A(n).then(t=>{u(v(t)),p(!1),s(!1),i([]),u(k())})}return l(R,{children:[e("button",{onClick:()=>s(!0),type:"button",className:"inline-flex ml-5 mb-3 items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"CREATE DEFAULT RECORD"}),e(r.Root,{show:g,as:o.Fragment,children:l(f,{as:"div",className:"relative z-10",onClose:s,children:[e(r.Child,{as:o.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-10 transition-opacity"})}),e("div",{className:"fixed inset-0 overflow-hidden",children:e("div",{className:"absolute inset-0 overflow-hidden",children:e("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e(r.Child,{as:o.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:l(f.Panel,{className:"pointer-events-auto relative w-screen max-w-md",children:[e(r.Child,{as:o.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4",children:l("button",{type:"button",className:"relative rounded-md text-red-500 hover:text-red-500 focus:outline-none focus:ring-2 focus:ring-red-500",onClick:()=>s(!1),children:[e("span",{className:"absolute -inset-2.5"}),e("span",{className:"sr-only",children:"Close panel"}),e(L,{className:"h-6 w-6","aria-hidden":"true"})]})})}),l("div",{className:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:[e("div",{className:"px-4 sm:px-6",children:e(f.Title,{className:"text-base font-semibold leading-6 text-gray-900",children:"CREATE DEFAULT RECORD"})}),l("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:[e("button",{onClick:()=>C(),type:"button",className:"inline-flex mb-3 items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"ADD BREAD"}),l("form",{name:"form",ref:N,onSubmit:T,className:"flex flex-col h-full ",children:[e("div",{className:"flex-1",children:d.map((a,n)=>l("div",{className:"flex gap-3",children:[e("div",{className:"flex-1",children:l("select",{onInput:t=>h(n,"id",t.target.value),name:"token",required:!0,className:" appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-1.5 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",children:[e("option",{defaultValue:null}),c==null?void 0:c.map((t,m)=>e("option",{value:t.id,children:t.bread_name},m))]})}),e("div",{className:"flex-1",children:e("input",{onChange:t=>h(n,"quantity",t.target.value),required:!0,className:"appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-1.5 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",type:"number",placeholder:"Quantity"})}),e("div",{className:"flex-none",children:e("button",{type:"button",onClick:()=>F(n),className:" bg-red-500 text-white px-2 py-1 rounded",children:e(_,{})})})]},n))}),e("div",{className:"flex-none",children:e("button",{disabled:d.length==0,type:"submit",className:"flex-none w-full mb-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded bottom-0",children:w?e(I,{}):"SUBMIT"})})]})]})]})]})})})})})]})})]})}export{J as default};
