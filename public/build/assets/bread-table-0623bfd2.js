import{r as p,j as a,a as e,F as w,c as b}from"./app-b2227ccf.js";import{m as E}from"./moment-0fe98ddc.js";import C from"./bread-create-form-0b4d24ba.js";import L from"./bread-edit-form-4d3e533b.js";import S from"./bread-delete-2292db49.js";import{c as k}from"./recipes-services-ad81ba72.js";import{L as B}from"./loading-icon-85069697.js";import{T}from"./trash-icon-dc3c9fa0.js";import{u as _}from"./useDispatch-036a067f.js";import"./x-mark-icon-364cd7fe.js";import"./input-18bcb6f8.js";import"./breads-services-2880170d.js";import"./transition-3d2fd76a.js";import"./open-closed-3b6062ed.js";import"./dialog-14532e0a.js";import"./keyboard-2daaab9e.js";import"./hidden-7444e4e3.js";import"./pencil-icon-846d21c7.js";import"./loading-icon-1fbbcb27.js";import"./sweetalert2.all-c77be474.js";function X({data:o}){const[d,s]=p.useState([]),[l,c]=p.useState([]),[u,f]=p.useState(!1),x=_();function i(t){return d.find(r=>r===t)}function N(t,r){if(i(t)==null)s([...d,t]),c([...l,r]);else{const n=d.filter(m=>m!==t),y=l.filter(m=>m!==r);s(n),c(y)}}async function g(){f(!0);const t=d.map((h,n)=>({bread_id:h,bread_name:l[n]})),r=await k({data:t});x(b(r)),setTimeout(()=>{x(b([])),f(!1),s([]),c([])},1e3)}const v=[{title:"Name of Bread"},{title:"Price"},{title:"Created At"},{title:"Actions"}];return a("div",{children:[a("div",{className:"flex flex-row w-full",children:[e("div",{className:"flex-1",children:d.length!==0&&e(w,{children:u?e("button",{disabled:!0,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:e(B,{})}):e("button",{onClick:g,className:"border-2 border-red-500 hover:border-red-600 text-red-500 font-bold py-2 px-4 rounded",children:"CREATE RECIPES"})})}),e("div",{className:"flex-none",children:e(C,{})})]}),a("table",{className:"min-w-max w-full table-auto",children:[e("thead",{children:e("tr",{className:" text-gray-600 uppercase text-sm leading-normal",children:v.map((t,r)=>e("th",{className:"py-3 px-6 text-left",children:t.title},r))})}),e("tbody",{className:"text-gray-600 text-sm font-light",children:o==null?void 0:o.map((t,r)=>a("tr",{className:`${i(t.id)==null?" border-b border-slate-200 ":"bg-gray-100 border-l-2 border-red-500"}  border-gray-200 hover:bg-gray-100`,children:[e("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a("div",{className:"flex items-center",children:[e("div",{className:"mr-2",children:e("input",{checked:i(t.id)!==void 0,onChange:()=>N(t.id,t.bread_name),type:"checkbox",className:`${i(t.id)==null?"":"border-red-500 border bg-red-500 text-red-500"}  form-checkbox `})}),e("span",{className:"font-medium",children:t.bread_name})]})}),e("td",{className:"py-3 px-6 text-left",children:e("span",{className:"bg-purple-200 text-red-600 py-1 px-3 rounded-full text-xs",children:t.price})}),e("td",{className:"py-3 px-6 text-left",children:E(t.created_at).format("LLLL")}),e("td",{className:"py-3 px-6 text-left",children:a("div",{className:"flex",children:[e("div",{className:"w-4 mr-6 text-blue-500",children:e(L,{data:t})}),e("div",{className:"w-4 mr-2 transform text-red-500",children:e(S,{data:t,icons:e(T,{})})})]})})]},r))})]})]})}export{X as default};
